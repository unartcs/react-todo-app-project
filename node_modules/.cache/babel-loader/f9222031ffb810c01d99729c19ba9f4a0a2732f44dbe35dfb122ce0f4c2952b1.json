{"ast":null,"code":"import _slicedToArray from\"C:/Users/unart/Documents/GitHub/react-todo-app-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import React,{useState,useEffect}from'react';import TodoForm from'./Components/TodoForm';import TodoList from'./Components/TodoList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputText=_useState2[0],setInputText=_useState2[1];// const [taskList, setTaskList] = useState([]);\nvar _useState3=useState(function(){return JSON.parse(localStorage.getItem(\"tasks\"))||[];}),_useState4=_slicedToArray(_useState3,2),taskList=_useState4[0],setTaskList=_useState4[1];var _useState5=useState(['all']),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),filteredTasks=_useState8[0],setFilteredTasks=_useState8[1];var filterHandler=function filterHandler(){switch(status){case'completed':setFilteredTasks(taskList.filter(function(task){return task.completed===true;}));break;case'uncompleted':setFilteredTasks(taskList.filter(function(task){return task.completed!==true;}));break;default:setFilteredTasks(taskList);break;}};//ONLY RUNS ONCE FOR LOCAL STORAGE!\n// useEffect(() => {\n//   getLocalTasks()\n// }, []);\nuseEffect(function(){filterHandler();saveLocalTasks();},[inputText,taskList,status]);// useEffect(()=> {saveLocalTasks()},[inputText])\n// const getLocalTasks = () => {\n//   if (localStorage.getItem('tasks') === null) {\n//     console.log('empty')\n//     localStorage.setItem('tasks', JSON.stringify([]));\n//   }\n//   else {\n//     let tasksFromLocal = JSON.parse(localStorage.getItem(\"tasks\"))\n//     console.log(tasksFromLocal)\n//     setTaskList(tasksFromLocal)\n//   }\n// };\nvar saveLocalTasks=function saveLocalTasks(){localStorage.setItem('tasks',JSON.stringify(taskList));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{children:\"Todo List\"}),/*#__PURE__*/_jsx(TodoForm,{inputText:inputText,setInputText:setInputText,setTaskList:setTaskList,taskList:taskList,status:status,setStatus:setStatus,setFilteredTasks:setFilteredTasks,filteredTasks:filteredTasks}),/*#__PURE__*/_jsx(TodoList,{filteredTasks:filteredTasks,taskList:taskList,setTaskList:setTaskList})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","TodoForm","TodoList","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","inputText","setInputText","_useState3","JSON","parse","localStorage","getItem","_useState4","taskList","setTaskList","_useState5","_useState6","status","setStatus","_useState7","_useState8","filteredTasks","setFilteredTasks","filterHandler","filter","task","completed","saveLocalTasks","setItem","stringify","className","children"],"sources":["C:/Users/unart/Documents/GitHub/react-todo-app-project/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport TodoForm from './Components/TodoForm';\nimport TodoList from './Components/TodoList';\n\nfunction App() {\n  const [inputText, setInputText] = useState('');\n  // const [taskList, setTaskList] = useState([]);\n  const [taskList, setTaskList] = useState(() => {\n    return JSON.parse(localStorage.getItem(\"tasks\")) || []\n  });\n  const [status, setStatus] = useState(['all']);\n  const [filteredTasks, setFilteredTasks] = useState([]);\n  const filterHandler = () => {\n    switch (status) {\n      case 'completed':\n        setFilteredTasks(taskList.filter(task => task.completed === true))\n        break;\n      case 'uncompleted':\n        setFilteredTasks(taskList.filter(task => task.completed !== true))\n        break;\n      default:\n        setFilteredTasks(taskList)\n        break;\n    }\n  }\n  //ONLY RUNS ONCE FOR LOCAL STORAGE!\n  // useEffect(() => {\n  //   getLocalTasks()\n  // }, []);\n\n  useEffect(() => {\n    filterHandler()\n    saveLocalTasks()\n  }, [inputText, taskList, status])\n\n  // useEffect(()=> {saveLocalTasks()},[inputText])\n\n  // const getLocalTasks = () => {\n  //   if (localStorage.getItem('tasks') === null) {\n  //     console.log('empty')\n  //     localStorage.setItem('tasks', JSON.stringify([]));\n  //   }\n  //   else {\n  //     let tasksFromLocal = JSON.parse(localStorage.getItem(\"tasks\"))\n  //     console.log(tasksFromLocal)\n  //     setTaskList(tasksFromLocal)\n  //   }\n  // };\n\n  const saveLocalTasks = () => {\n    localStorage.setItem('tasks', JSON.stringify(taskList))\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        Todo List\n      </header>\n      <TodoForm\n        inputText={inputText}\n        setInputText={setInputText}\n        setTaskList={setTaskList}\n        taskList={taskList}\n        status={status}\n        setStatus={setStatus}\n        setFilteredTasks={setFilteredTasks}\n        filteredTasks={filteredTasks} />\n      <TodoList\n        filteredTasks={filteredTasks}\n        taskList={taskList}\n        setTaskList={setTaskList}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"4IAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAkCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B;AACA,IAAAI,UAAA,CAAgCd,QAAQ,CAAC,UAAM,CAC7C,MAAO,CAAAe,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAI,EAAE,CACxD,CAAC,CAAC,CAAAC,UAAA,CAAAR,cAAA,CAAAG,UAAA,IAFKM,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAG5B,IAAAG,UAAA,CAA4BtB,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAtCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAA0C1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,GAAM,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,OAAQN,MAAM,EACZ,IAAK,WAAW,CACdK,gBAAgB,CAACT,QAAQ,CAACW,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,SAAS,GAAK,IAAI,GAAC,CAAC,CAClE,MACF,IAAK,aAAa,CAChBJ,gBAAgB,CAACT,QAAQ,CAACW,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,SAAS,GAAK,IAAI,GAAC,CAAC,CAClE,MACF,QACEJ,gBAAgB,CAACT,QAAQ,CAAC,CAC1B,MAAM,CAEZ,CAAC,CACD;AACA;AACA;AACA;AAEAnB,SAAS,CAAC,UAAM,CACd6B,aAAa,EAAE,CACfI,cAAc,EAAE,CAClB,CAAC,CAAE,CAACtB,SAAS,CAAEQ,QAAQ,CAAEI,MAAM,CAAC,CAAC,CAEjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAM,CAAAU,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BjB,YAAY,CAACkB,OAAO,CAAC,OAAO,CAAEpB,IAAI,CAACqB,SAAS,CAAChB,QAAQ,CAAC,CAAC,CACzD,CAAC,CAED,mBACEb,KAAA,QAAK8B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBjC,IAAA,WAAAiC,QAAA,CAAQ,WAER,EAAS,cACTjC,IAAA,CAACH,QAAQ,EACPU,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,CAC3BQ,WAAW,CAAEA,WAAY,CACzBD,QAAQ,CAAEA,QAAS,CACnBI,MAAM,CAAEA,MAAO,CACfC,SAAS,CAAEA,SAAU,CACrBI,gBAAgB,CAAEA,gBAAiB,CACnCD,aAAa,CAAEA,aAAc,EAAG,cAClCvB,IAAA,CAACF,QAAQ,EACPyB,aAAa,CAAEA,aAAc,CAC7BR,QAAQ,CAAEA,QAAS,CACnBC,WAAW,CAAEA,WAAY,EACzB,GACE,CAEV,CAEA,cAAe,CAAAb,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}